# 客户端浏览器插件

## 本地插件安装

1. 克隆代码到本地
2. 在浏览器中输入：chrome://extensions/
3. 打开右上角“开发者模式”开关
4. 点击“加载未打包的扩展程序”，并指定代码目录，即完成安装


## 功能说明

✅ 已实现功能：

- 创建新钱包
- 导入钱包（通过私钥）
- 查看余额
- 发送交易
- 切换网络（主网/测试网）
- 导出私钥
- 复制地址
- 密码保护
- 交易历史记录
- 更好的二维码生成

🔧 可扩展功能：
- 添加助记词支持
- 代币支持（ERC-20）
- 多账户管理

## 下载依赖包

curl -o ethers-5.7.umd.min.js https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js
curl -o qrcode.min.js https://unpkg.com/qrcodejs@1.0.0/qrcode.min.js

```text
┌─────────────────────────────────────────────────────────────┐
│                         popup.js                            │
│                    (主入口，协调各模块)                     │
└─────────────────────────────────────────────────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        ▼                     ▼                     ▼
┌──────────────┐      ┌──────────────┐      ┌──────────────┐
│  wallet.js   │      │  storage.js  │      │    ui.js     │
│  (钱包逻辑)  │◄────►│  (数据存储)  │      │  (UI 渲染)   │
└──────────────┘      └──────────────┘      └──────────────┘
        │                     │                     │
        └─────────────────────┴─────────────────────┘
                              │
                              ▼
                      ┌──────────────┐
                      │  config.js   │
                      │  (配置常量)  │
                      └──────────────┘

```

```text

┌─────────────────────────────────────────────────────────┐
│                      js/wallet.js                       │
│          (业务逻辑层 - 钱包操作、签名、交易)                 │
└────────────────────┬────────────────────────────────────┘
                     │
                     │ 使用
                     ▼
┌─────────────────────────────────────────────────────────┐
│                   background.js                         │
│        (状态管理层 - 封装状态对象、提供访问器)                │
│  ┌─────────────────────────────────────────────────┐    │
│  │  WalletState {                                  │    │
│  │    walletInstance, currentAccount,              │    │
│  │    currentWallet, currentPassword, ...          │    │
│  │  }                                              │    │
│  └─────────────────────────────────────────────────┘    │
└────────────────────┬────────────────────────────────────┘
                     │
                     │ 存储/读取
                     ▼
┌─────────────────────────────────────────────────────────┐
│                    js/storage.js                        │
│  (会话管理层 - 不感知状态内容，只负责存储和清理)               │
│  - 自动锁定检查                                           │
│  - 统一清理接口                                           │
│  - 会话过期检测                                           │
└─────────────────────────────────────────────────────────┘
```
